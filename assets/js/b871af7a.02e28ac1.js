"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[9108],{2920:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var l=n(4848),r=n(8453);const o={},i="Pebblo Safe DataLoader for Langchain",s={id:"rag",title:"Pebblo Safe DataLoader for Langchain",description:"This document describes how to augment your existing Langchain DocumentLoader with Pebblo Safe DataLoader to get deep data visibility on the types of Topics and Entities ingested into the Gen-AI Langchain application. For details on Pebblo Server see this pebblo server document.",source:"@site/docs/rag.md",sourceDirName:".",slug:"/rag",permalink:"/pebblo/rag",draft:!1,unlisted:!1,editUrl:"https://github.com/daxa-ai/pebblo/tree/main/docs/gh_pages/docs/rag.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Safe Retriever Tab",permalink:"/pebblo/safe_retriever"},next:{title:"Safe Retriever for LangChain",permalink:"/pebblo/retrieval_chain"}},a={},d=[{value:"How to Pebblo enable Document Loading?",id:"how-to-pebblo-enable-document-loading",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Supported Document Loaders",id:"supported-document-loaders",level:2}];function c(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.h1,{id:"pebblo-safe-dataloader-for-langchain",children:"Pebblo Safe DataLoader for Langchain"}),"\n",(0,l.jsxs)(t.p,{children:["This document describes how to augment your existing Langchain DocumentLoader with Pebblo Safe DataLoader to get deep data visibility on the types of Topics and Entities ingested into the Gen-AI Langchain application. For details on ",(0,l.jsx)(t.code,{children:"Pebblo Server"})," see this ",(0,l.jsx)(t.a,{href:"/pebblo/daemon",children:"pebblo server"})," document."]}),"\n",(0,l.jsxs)(t.p,{children:["Pebblo Safeloader enables safe data ingestion for Langchain document loader",(0,l.jsx)("sup",{children:"1"}),". This is done by wrapping the document loader call with ",(0,l.jsx)(t.code,{children:"Pebblo Safe DataLoader"}),"."]}),"\n",(0,l.jsx)(t.h2,{id:"how-to-pebblo-enable-document-loading",children:"How to Pebblo enable Document Loading?"}),"\n",(0,l.jsxs)(t.p,{children:["Assume a Langchain RAG application snippet using ",(0,l.jsx)(t.code,{children:"CSVLoader"})," to read a CSV document for inference."]}),"\n",(0,l.jsxs)(t.p,{children:["Here is the snippet of Lanchain RAG application using ",(0,l.jsx)(t.code,{children:"CSVLoader"}),"."]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:"    from langchain_community.document_loaders import CSVLoader\n\n    loader = CSVLoader(file_path)\n    documents = loader.load()\n    vectordb = Chroma.from_documents(documents, OpenAIEmbeddings())\n"})}),"\n",(0,l.jsx)(t.p,{children:"The Pebblo SafeLoader can be enabled with few lines of code change to the above snippet."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'    from langchain_community.document_loaders import CSVLoader\n    from langchain_community.document_loaders.pebblo import PebbloSafeLoader\n\n    loader = PebbloSafeLoader(\n                CSVLoader(file_path),\n                name="RAG app 1", # App name (Mandatory)\n                owner="Joe Smith", # Owner (Optional)\n                description="Support productivity RAG application", # Description (Optional)\n    )\n    documents = loader.load()\n    vectordb = Chroma.from_documents(documents, OpenAIEmbeddings())\n'})}),"\n",(0,l.jsxs)(t.p,{children:["A data report with all the findings, both Topics and Entities, will be generated and available for inspection in the ",(0,l.jsx)(t.code,{children:"Pebblo Server"}),". See this ",(0,l.jsx)(t.a,{href:"/pebblo/daemon",children:"pebblo server"})," for further details."]}),"\n",(0,l.jsxs)(t.p,{children:["Note: By default Pebblo Server runs at localhost:8000. If your Pebblo Server is running at some other location for eg. a docker container etc, put the correct URL in ",(0,l.jsx)(t.code,{children:"PEBBLO_CLASSIFIER_URL"})," env variable. ref: ",(0,l.jsx)(t.a,{href:"/pebblo/config#server",children:"server-configurations"})]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-bash",children:'export PEBBLO_CLASSIFIER_URL="<pebblo-server-host:pebblo-server-port>"\n'})}),"\n",(0,l.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsx)(t.p,{children:"PebbloSafeLoader takes the following parameters:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"name"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Name of the application; should be unique across the loader and retriever applications."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"owner"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: None) Owner of the application."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"description"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: None) Description of the application."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"loader"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"DocumentLoader"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Langchain DocumentLoader."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"api_key"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: None) API Key for Pebblo Cloud; if not provided, PebbloSafeLoader will look for ",(0,l.jsx)(t.code,{children:"PEBBLO_API_KEY"})," in the environment. If found, documents will be sent to Pebblo Cloud."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"load_semantic"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"bool"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: False) Indicates whether to include semantic metadata in the documents being loaded into VectorDB."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"classifier_url"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: ",(0,l.jsx)(t.a,{href:"http://localhost:8000",children:"http://localhost:8000"}),") URL of the Pebblo Classifier Server. For more details on configuring the server URL, see ",(0,l.jsx)(t.a,{href:"https://daxa-ai.github.io/pebblo/config#server",children:"Pebblo Server Configuration"}),"."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"classifier_location"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"str"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: local) Location of the classifier, 'local' or 'pebblo-cloud'."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"anonymize_snippets"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"bool"}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,l.jsx)(t.strong,{children:"Optional"}),", Default: False) Indicates whether to anonymize snippets in the document."]})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"supported-document-loaders",children:"Supported Document Loaders"}),"\n",(0,l.jsx)(t.p,{children:"The following Langchain DocumentLoaders are currently supported."}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsx)(t.li,{children:"DirectoryLoader"}),"\n",(0,l.jsx)(t.li,{children:"JSONLoader"}),"\n",(0,l.jsx)(t.li,{children:"CSVLoader"}),"\n",(0,l.jsx)(t.li,{children:"DataFrameLoader"}),"\n",(0,l.jsx)(t.li,{children:"S3FileLoader"}),"\n",(0,l.jsx)(t.li,{children:"S3DirLoader"}),"\n",(0,l.jsx)(t.li,{children:"UnstructuredMarkdownLoader"}),"\n",(0,l.jsx)(t.li,{children:"UnstructuredPDFLoader"}),"\n",(0,l.jsx)(t.li,{children:"UnstructuredFileLoader"}),"\n",(0,l.jsx)(t.li,{children:"UnstructuredAPIFileLoader"}),"\n",(0,l.jsx)(t.li,{children:"UnstructuredExcelLoader"}),"\n",(0,l.jsx)(t.li,{children:"AmazonTextractPDFLoader"}),"\n",(0,l.jsx)(t.li,{children:"GCSFileLoader"}),"\n",(0,l.jsx)(t.li,{children:"GoogleDriveLoader"}),"\n",(0,l.jsx)(t.li,{children:"PyPDFDirectoryLoader"}),"\n",(0,l.jsx)(t.li,{children:"PyPDFLoader"}),"\n",(0,l.jsx)(t.li,{children:"SharePointLoader"}),"\n"]}),"\n",(0,l.jsxs)(t.blockquote,{children:["\n",(0,l.jsxs)(t.p,{children:["Note ",(0,l.jsx)("sup",{children:"1"}),": ",(0,l.jsx)(t.em,{children:"Most other Langchain document loaders that implement load() and lazy_load() methods should work. The above list indicates the ones that are explicitly tested. If you have successfully tested a particular DocumentLoader other than this list above, please consider raising an PR."})]}),"\n"]}),"\n",(0,l.jsx)("img",{referrerpolicy:"no-referrer-when-downgrade",src:"https://static.scarf.sh/a.png?x-pxid=663e4c29-b156-42a6-b49e-359111bfbd5b"})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var l=n(6540);const r={},o=l.createContext(r);function i(e){const t=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),l.createElement(o.Provider,{value:t},e.children)}}}]);